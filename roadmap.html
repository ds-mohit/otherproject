<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Roadmap - AI Job Predictor</title>

    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- AOS (Animate on Scroll) Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --bg-color: #0a192f;
            --timeline-line-color: #1e3a5f;
            --card-bg: #112240;
            --text-color: #ccd6f6;
            --heading-color: #ffffff;
            --primary-color: #64ffda;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }
        
        body.loaded {
            opacity: 1;
        }
        
        /* --- Preloader --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .logo-loader {
            width: 100px;
            height: 100px;
            border: 4px solid var(--timeline-line-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .roadmap-container {
            padding-top: 4rem;
            padding-bottom: 4rem;
        }

        .main-title {
            font-weight: 700;
            color: var(--heading-color);
            text-align: center;
        }
        .main-title .job-title {
            color: var(--primary-color);
        }

        /* --- Vertical Timeline --- */
        .timeline {
            position: relative;
            max-width: 900px;
            margin: 50px auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--timeline-line-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
        }

        .timeline-item.left { left: 0; }
        .timeline-item.right { left: 50%; }

        /* The circles on the timeline */
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            right: -12.5px;
            background-color: var(--bg-color);
            border: 4px solid var(--primary-color);
            top: 25px;
            border-radius: 50%;
            z-index: 1;
            transition: background-color 0.3s ease;
        }
        
        .timeline-item.right::after { left: -12.5px; }
        
        .timeline-content {
            padding: 20px 30px;
            background-color: var(--card-bg);
            position: relative;
            border-radius: 8px;
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            transition: transform 0.3s ease;
        }
        
        .timeline-item:hover .timeline-content {
            transform: translateY(-5px);
        }
        
        .timeline-item:hover::after {
            background-color: var(--primary-color);
        }

        .step-title {
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .step-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-right: 10px;
        }
        
        /* Responsive adjustments */
        @media screen and (max-width: 768px) {
            .timeline::after { left: 31px; }
            .timeline-item { width: 100%; padding-left: 70px; padding-right: 25px; }
            .timeline-item.right { left: 0%; }
            .timeline-item.left::after, .timeline-item.right::after { left: 18px; }
        }
        
        /* --- Download Button --- */
        .download-btn {
            background: none;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-decoration: none;
        }
        
        .download-btn:hover {
            background-color: rgba(100, 255, 218, 0.1);
            color: var(--primary-color);
            box-shadow: 0 0 15px rgba(100, 255, 218, 0.5);
        }

        .download-btn .paper-plane {
            font-size: 1.5rem;
            position: absolute;
            left: -40px;
            top: 50%;
            transform: translateY(-50%);
            transition: left 0.4s ease-in-out;
        }
        
        .download-btn:hover .paper-plane {
            left: calc(100% + 20px);
        }

    </style>
</head>
<body>

    <!-- Preloader -->
    <div id="preloader">
        <div class="logo-loader"></div>
    </div>

    <div class="container roadmap-container">
        <div data-aos="fade-down">
            <h1 class="main-title">
                Your Career Roadmap for<br>
                <span class="job-title">{{ job_title or 'Senior Frontend Developer' }}</span>
            </h1>
            <p class="text-center lead mb-5">Follow these steps to bridge your skill gaps and advance your career.</p>
        </div>

        <div class="timeline">
            <!-- You can generate these timeline items in a Flask loop -->
            <div class="timeline-item left" data-aos="fade-right">
                <div class="timeline-content">
                    <h4 class="step-title"><i class="bi bi-book-half step-icon"></i>Step 1: Master Vue.js</h4>
                    <p>Since Vue.js was identified as a missing skill, start with its fundamentals. Focus on components, the Vue Router, and state management with Pinia.</p>
                    <small class="text-white-50">Estimated Time: 3-4 Weeks</small>
                </div>
            </div>
            <div class="timeline-item right" data-aos="fade-left">
                <div class="timeline-content">
                    <h4 class="step-title"><i class="bi bi-braces-asterisk step-icon"></i>Step 2: Learn GraphQL</h4>
                    <p>Understand how GraphQL differs from REST APIs. Practice creating queries and mutations. Use a public GraphQL API like the GitHub API for hands-on experience.</p>
                    <small class="text-white-50">Estimated Time: 2 Weeks</small>
                </div>
            </div>
            <div class="timeline-item left" data-aos="fade-right">
                <div class="timeline-content">
                    <h4 class="step-title"><i class="bi bi-filetype-tsx step-icon"></i>Step 3: Adopt TypeScript</h4>
                    <p>Integrate TypeScript into a small React or Vue project. Focus on typing props, state, and API responses to build more robust applications.</p>
                    <small class="text-white-50">Estimated Time: 2-3 Weeks</small>
                </div>
            </div>
            <div class="timeline-item right" data-aos="fade-left">
                <div class="timeline-content">
                    <h4 class="step-title"><i class="bi bi-kanban-fill step-icon"></i>Step 4: Build a Project</h4>
                    <p>Create a portfolio project that utilizes all three new skills: a Vue.js frontend with TypeScript that fetches data from a GraphQL endpoint.</p>
                    <small class="text-white-50">Estimated Time: 4 Weeks</small>
                </div>
            </div>
            <div class="timeline-item left" data-aos="fade-right">
                <div class="timeline-content">
                    <h4 class="step-title"><i class="bi bi-arrow-up-right-circle-fill step-icon"></i>Step 5: Update & Apply</h4>
                    <p>Add your new project and skills to your resume and portfolio, then start applying for your target roles with confidence.</p>
                    <small class="text-white-50">Estimated Time: Ongoing</small>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5" data-aos="fade-up">
            <a href="{{ url_for('download_pdf') }}" class="btn download-btn">
                <i class="bi bi-send-fill paper-plane"></i>
                <span>Download Roadmap as PDF</span>
            </a>
        </div>

    </div>

    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // --- Preloader & Page Load Animation ---
        window.addEventListener('load', () => {
            document.getElementById('preloader').style.display = 'none';
            document.body.classList.add('loaded');
        });

        // --- AOS Initialization ---
        AOS.init({
            once: true,
            duration: 800,
            offset: 100,
        });
    </script>
</body>
</html>
